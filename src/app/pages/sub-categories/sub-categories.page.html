<ion-header [translucent]="true">
  <ion-toolbar>
    <div class="tool-header d-flex align-items-center py-4 w-100">
      <ion-buttons slot="start" class="text-black">
        <ion-back-button defaultHref="/tabs/explore"></ion-back-button>
      </ion-buttons>

      <h1 class="m-0 flex-grow-1 text-center fs-2 text-black fw-bold me-4">{{subCategory?.name}}</h1>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="container py-3">
    <div class="row g-3">
      @for (size of subCategory?.sub_category_size; track $index) {
        <div class="col-6">
          <h5 class="size-option p-2 rounded-4 text-center" [class.active]="selectedSizeId === size.id" (click)="getSubCatBySize(size.id)">
            {{size?.name}}
          </h5>
        </div>
      }

      @for (subCat of subCategoryProducts; track $index) {
        <div class="col-12" [routerLink]="'/product/' + subCat.seo_slug">
          <div class="sub-item shadow-sm d-flex flex-column rounded-3 mb-2 border border-1">
            <div class="subImg rounded-4 d-flex justify-content-center align-items-center">
              <img loading="lazy"
                [src]="subCat.picture1"
                [alt]="subCat.picture1_alt || subCat.seo_slug"
                class="img-fluid object-fit-cover"
              />
            </div>

            <div class="text-center p-3">
              <h6 class="fw-bold">{{ subCat.name }}</h6>
              <h5 class="fw-bold main-color">{{subCat.price}} EGP</h5>
            </div>
          </div>
        </div>
      } @empty {
        <div class="col-12 text-center my-4">
          <ion-spinner name="dots"></ion-spinner>
          <h6 class="mt-1">Loading products...</h6>
        </div>
      }
    </div>
  </div>
</ion-content>
